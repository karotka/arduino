<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title></title>
  <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Open+Sans" />
  <link href="styles.css" rel="stylesheet" type="text/css">
  <script src="//code.jquery.com/jquery-1.12.4.min.js" crossorigin="anonymous"></script>
  <script src="//code.jquery.com/ui/1.12.1/jquery-ui.min.js" crossorigin="anonymous"></script>
  <script>
    url = "read.php";

$(document).ready(function() {
  $("#ok,#s0,#s1,#s2,#s3,#h1u,#h2u,#h3u,#h4u,#h1d,#h2d,#h3d,#h4d,#m1u,#m2u,#m3u,#m4u,#m1d,#m2d,#m3d,#m4d").click(function(event) {
    $.ajax({
      url : url,
      data : {
        "p" : "COSA",
        "v" : event.currentTarget.id
      },
      success : function(data, status, hr) {
        if(hr.status == 200) {
          var spl = data.dt.split("-");
          if (spl[0].startsWith("m")) {
            $("#"+spl[0]).html(spl[1] + "m");
          }
          if (spl[0].startsWith("h")) {
            $("#"+spl[0]).html(spl[1] + "h");
          }
          if (spl[0].startsWith("s")) {
            $("#"+spl[0]).html(parseInt(spl[1]) ? "ON" : "OFF");
          }
          if (data.dt == "y") {
            $("#saved").fadeTo("fast", 1);
            $("#saved").html("Saved OK");
            $("#saved").fadeTo("slow", 0);
          }
        }
      }
    });
  });

    $.ajax({
    url : url,
    data : "p=COLO",
    success : function(theDirectoryEntry) {
      for (val of theDirectoryEntry) {
        if (val.hasOwnProperty("id")) {
          $("#m" + val.id).html(val.m + "m");
          $("#h" + val.id).html(val.h + "h");
        } else {
          if (val.hasOwnProperty("s")) {
            /** @type {number} */
            i = 0;
            for (; i < val.s.length; i++) {
              $("#s" + i).html(val.s[i] == 1 ? "ON" : "OFF");
            }
          }
        }
      }
    }
  });
  $(function() {
    $("#main").tabs({
      "active" : 0
    });
  });
});
  </script>

</head>
<body>
  <div id="main" class="co">

    <div id="head">
      <div id="cl" onclick="location.href='/'">
        <img widht="25px" height="25px" src="https://media.karotka.cz/aqua/close.svg">
      </div>
      <div id="tb">
        <ul>
          <li><a href="#tabs-1">Co2 switch 1-4</a></li>
        </ul>
      </div>
      <div id="ok"><img widht="25px" height="25px" src="https://media.karotka.cz/aqua/ok.svg"></div>
    </div>

    <div id="tabs-1">
      <div id="fr">
        <div class="fixsp">&nbsp;</div>
        <div class="fix" id="h1u"><img widht="20px" height="20px" src="https://media.karotka.cz/aqua/up.svg"></div>
        <div class="fix" id="m1u"><img widht="20px" height="20px" src="https://media.karotka.cz/aqua/up.svg"></div>
        <div class="fixsp1">&nbsp;</div>
        <div class="fixsp">&nbsp;</div>
        <div class="fix" id="h2u"><img widht="20px" height="20px" src="https://media.karotka.cz/aqua/up.svg"></div>
        <div class="fix" id="m2u"><img widht="20px" height="20px" src="https://media.karotka.cz/aqua/up.svg"></div>
      </div>
      <div id="se">
        <div class="fixsp">1.</div>
        <div class="fix dark" id="h1"></div>
        <div class="fix dark" id="m1"></div>
        <div class="fix dark" id="s0"></div>
        <div class="fixsp">2.</div>
        <div class="fix dark" id="h2"></div>
        <div class="fix dark" id="m2"></div>
        <div class="fix dark" id="s1"></div>
      </div>
      <div id="tr">
        <div class="fixsp">&nbsp;</div>
        <div class="fix" id="h1d"><img widht="20px" height="20px" src="https://media.karotka.cz/aqua/down.svg"></div>
        <div class="fix" id="m1d"><img widht="20px" height="20px" src="https://media.karotka.cz/aqua/down.svg"></div>
        <div class="fixsp1"></div>
        <div class="fixsp">&nbsp;</div>
        <div class="fix" id="h2d"><img widht="20px" height="20px" src="https://media.karotka.cz/aqua/down.svg"></div>
        <div class="fix" id="m2d"><img widht="20px" height="20px" src="https://media.karotka.cz/aqua/down.svg"></div>
      </div>

      <div class="clear"></div>

      <div id="fr">
        <div class="fixsp">&nbsp;</div>
        <div class="fix" id="h3u"><img widht="20px" height="20px" src="https://media.karotka.cz/aqua/up.svg"></div>
        <div class="fix" id="m3u"><img widht="20px" height="20px" src="https://media.karotka.cz/aqua/up.svg"></div>
        <div class="fixsp1">&nbsp;</div>
        <div class="fixsp">&nbsp;</div>
        <div class="fix" id="h3u"><img widht="20px" height="20px" src="https://media.karotka.cz/aqua/up.svg"></div>
        <div class="fix" id="m3u"><img widht="20px" height="20px" src="https://media.karotka.cz/aqua/up.svg"></div>
      </div>
      <div id="se">
        <div class="fixsp">3.</div>
        <div class="fix dark" id="h3"></div>
        <div class="fix dark" id="m3"></div>
        <div class="fix dark" id="s2"></div>
        <div class="fixsp">4.</div>
        <div class="fix dark" id="h4"></div>
        <div class="fix dark" id="m4"></div>
        <div class="fix dark" id="s3"></div>
      </div>
      <div id="tr">
        <div class="fixsp">&nbsp;</div>
        <div class="fix" id="h4d"><img widht="20px" height="20px" src="https://media.karotka.cz/aqua/down.svg"></div>
        <div class="fix" id="m4d"><img widht="20px" height="20px" src="https://media.karotka.cz/aqua/down.svg"></div>
        <div class="fixsp1"></div>
        <div class="fixsp">&nbsp;</div>
        <div class="fix" id="h4d"><img widht="20px" height="20px" src="https://media.karotka.cz/aqua/down.svg"></div>
        <div class="fix" id="m4d"><img widht="20px" height="20px" src="https://media.karotka.cz/aqua/down.svg"></div>
        <div id="saved"></div>
      </div>
    </div>
  </div>
</body>

</html>
